<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function formatNumber (num, format){
            let fixedNumber=String(num.toFixed(2));
            let formatIndex = format.indexOf('.'); // находим номер, под которым находится .
            let a = format.slice(0,formatIndex - format.length);
            let b =a.split(''); //отрезаем часть строки после точки, а оставшуюся строку разбиваем на массив 
            let numberIndex = fixedNumber.indexOf('.');
            let numberArray = fixedNumber.split('');
            let n = numberIndex-1; //5-1=4
            for (let i = 0; i<numberIndex; i++){
                if (b[b.length-1-i] == " ") { //b[8-0]="#"
                numberArray.splice(n+1,0,' ');
                n--;   
                } else {
                    n--;
                } 
            }
            let number=(numberArray.join(''));
            return number;
        }

        console.log(formatNumber(12345.368,'# ### ###.##'));
    

        //12 345.37

    </script>
</body>
</html>