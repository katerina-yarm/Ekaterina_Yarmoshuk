<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h3>Тест работы mouse-событий</h3>

        <div id="ILog" style="white-space:pre; font-size: 10px">
        <b style="color: magenta">событие mouseover</b><br><b style="color: magenta">событие mouseout</b><br><b style="color: magenta">событие mouseover</b><br><b style="color: magenta">событие mouseout</b><br><b style="color: magenta">событие mouseover</b><br><b style="color: magenta">событие mouseout</b><br><b style="color: magenta">событие mouseover</b><br><b style="color: magenta">событие mouseout</b><br><b style="color: magenta">событие mouseover</b><br><b style="color: magenta">событие mousemove</b> X=310 Y=130<br><b style="color: magenta">событие mousemove</b> X=310 Y=134<br><b style="color: magenta">событие mousemove</b> X=311 Y=137<br><b style="color: magenta">событие mousemove</b> X=311 Y=140<br><b style="color: magenta">событие mousemove</b> X=312 Y=148<br><b style="color: magenta">событие mousemove</b> X=312 Y=152<br><b style="color: magenta">событие mousemove</b> X=312 Y=156<br><b style="color: magenta">событие mousemove</b> X=315 Y=167<br><b style="color: magenta">событие mousemove</b> X=315 Y=172<br><b style="color: magenta">событие mousemove</b> X=316 Y=177<br><b style="color: magenta">событие mousemove</b> X=316 Y=187<br><b style="color: magenta">событие mousemove</b> X=317 Y=191<br><b style="color: magenta">событие mousemove</b> X=318 Y=196<br><b style="color: magenta">событие mousemove</b> X=319 Y=201<br><b style="color: magenta">событие mousemove</b> X=320 Y=211<br><b style="color: magenta">событие mousemove</b> X=322 Y=215<br><b style="color: magenta">событие mousemove</b> X=322 Y=217<br><b style="color: magenta">событие mousemove</b> X=323 Y=221<br><b style="color: magenta">событие mousemove</b> X=323 Y=222<br><b style="color: magenta">событие mousemove</b> X=323 Y=224<br><b style="color: magenta">событие mousemove</b> X=323 Y=225<br><b style="color: magenta">событие mousemove</b> X=325 Y=223<br><b style="color: magenta">событие mousemove</b> X=325 Y=222<br><b style="color: magenta">событие mousemove</b> X=325 Y=221<br><b style="color: magenta">событие mousemove</b> X=325 Y=220<br><b style="color: magenta">событие mousemove</b> X=325 Y=219<br><b style="color: magenta">событие mousemove</b> X=325 Y=218<br><b style="color: magenta">событие mousemove</b> X=325 Y=217<br><b style="color: magenta">событие mousemove</b> X=325 Y=216<br><b style="color: magenta">событие mousemove</b> X=325 Y=215<br><b style="color: magenta">событие mousemove</b> X=325 Y=212<br><b style="color: magenta">событие mousemove</b> X=326 Y=212<br><b style="color: magenta">событие mousemove</b> X=326 Y=210<br><b style="color: magenta">событие mousemove</b> X=327 Y=207<br><b style="color: magenta">событие mousemove</b> X=327 Y=205<br><b style="color: magenta">событие mousemove</b> X=328 Y=204<br><b style="color: magenta">событие mousemove</b> X=328 Y=200<br><b style="color: magenta">событие mousemove</b> X=328 Y=199<br><b style="color: magenta">событие mousemove</b> X=328 Y=198<br><b style="color: magenta">событие mousemove</b> X=329 Y=196<br><b style="color: magenta">событие mousemove</b> X=330 Y=193<br><b style="color: magenta">событие mousemove</b> X=332 Y=192<br><b style="color: magenta">событие mousemove</b> X=332 Y=190<br><b style="color: magenta">событие mousemove</b> X=336 Y=186<br><b style="color: magenta">событие mousemove</b> X=336 Y=184<br><b style="color: magenta">событие mousemove</b> X=339 Y=184<br><b style="color: magenta">событие mousemove</b> X=344 Y=180<br><b style="color: magenta">событие mousemove</b> X=348 Y=179<br><b style="color: magenta">событие mousemove</b> X=353 Y=177<br><b style="color: magenta">событие mousemove</b> X=364 Y=174<br><b style="color: magenta">событие mousemove</b> X=370 Y=174<br><b style="color: magenta">событие mousemove</b> X=378 Y=173<br><b style="color: magenta">событие mousemove</b> X=388 Y=173<br><b style="color: magenta">событие mousemove</b> X=406 Y=173<br><b style="color: magenta">событие mousemove</b> X=417 Y=173<br><b style="color: magenta">событие mousemove</b> X=427 Y=176<br><b style="color: magenta">событие mousemove</b> X=444 Y=182<br><b style="color: magenta">событие mousemove</b> X=452 Y=186<br><b style="color: magenta">событие mousemove</b> X=458 Y=189<br><b style="color: magenta">событие mousemove</b> X=470 Y=197<br><b style="color: magenta">событие mousemove</b> X=473 Y=200<br><b style="color: magenta">событие mousemove</b> X=477 Y=205<br><b style="color: magenta">событие mousemove</b> X=480 Y=210<br><b style="color: magenta">событие mousemove</b> X=484 Y=220<br><b style="color: magenta">событие mousemove</b> X=484 Y=226<br><b style="color: magenta">событие mousemove</b> X=484 Y=230<br><b style="color: magenta">событие mousemove</b> X=484 Y=236<br><b style="color: magenta">событие mousemove</b> X=484 Y=245<br><b style="color: magenta">событие mousemove</b> X=482 Y=251<br><b style="color: magenta">событие mousemove</b> X=480 Y=256<br><b style="color: magenta">событие mousemove</b> X=475 Y=264<br><b style="color: magenta">событие mousemove</b> X=471 Y=268<br><b style="color: magenta">событие mousemove</b> X=468 Y=270<br><b style="color: magenta">событие mousemove</b> X=462 Y=276<br><b style="color: magenta">событие mousemove</b> X=456 Y=279<br><b style="color: magenta">событие mousemove</b> X=451 Y=282<br><b style="color: magenta">событие mousemove</b> X=448 Y=284<br><b style="color: magenta">событие mousemove</b> X=439 Y=287<br><b style="color: magenta">событие mousemove</b> X=434 Y=288<br><b style="color: magenta">событие mousemove</b> X=430 Y=290<br><b style="color: magenta">событие mousemove</b> X=419 Y=291<br><b style="color: magenta">событие mousemove</b> X=412 Y=292<br><b style="color: magenta">событие mousemove</b> X=405 Y=292<br><b style="color: magenta">событие mousemove</b> X=399 Y=292<br><b style="color: magenta">событие mousemove</b> X=386 Y=292<br><b style="color: magenta">событие mousemove</b> X=380 Y=292<br><b style="color: magenta">событие mousemove</b> X=372 Y=291<br><b style="color: magenta">событие mousemove</b> X=363 Y=289<br><b style="color: magenta">событие mousemove</b> X=359 Y=289<br><b style="color: magenta">событие mousemove</b> X=354 Y=288<br><b style="color: magenta">событие mousemove</b> X=348 Y=286<br><b style="color: magenta">событие mousemove</b> X=344 Y=284<br><b style="color: magenta">событие mousemove</b> X=343 Y=283<br><b style="color: magenta">событие mousemove</b> X=340 Y=282<br><b style="color: magenta">событие mousemove</b> X=335 Y=277<br><b style="color: magenta">событие mousemove</b> X=332 Y=276<br><b style="color: magenta">событие mousemove</b> X=330 Y=272<br><b style="color: magenta">событие mousemove</b> X=328 Y=269<br><b style="color: magenta">событие mousemove</b> X=324 Y=264<br><b style="color: magenta">событие mousemove</b> X=324 Y=262<br><b style="color: magenta">событие mousemove</b> X=322 Y=259<br><b style="color: magenta">событие mousemove</b> X=320 Y=254<br><b style="color: magenta">событие mousemove</b> X=320 Y=252<br><b style="color: magenta">событие mousemove</b> X=320 Y=249<br><b style="color: magenta">событие mousemove</b> X=320 Y=247<br><b style="color: magenta">событие mousemove</b> X=320 Y=242<br><b style="color: magenta">событие mousemove</b> X=320 Y=240<br><b style="color: magenta">событие mousemove</b> X=320 Y=238<br><b style="color: magenta">событие mousemove</b> X=320 Y=236<br><b style="color: magenta">событие mousemove</b> X=320 Y=235<br><b style="color: magenta">событие mousemove</b> X=320 Y=234<br><b style="color: magenta">событие mousemove</b> X=320 Y=232<br><b style="color: magenta">событие mousemove</b> X=321 Y=232<br><b style="color: magenta">событие mousemove</b> X=322 Y=231<br><b style="color: magenta">событие mousemove</b> X=323 Y=231<br><b style="color: magenta">событие mousemove</b> X=324 Y=231<br><b style="color: magenta">событие mousemove</b> X=325 Y=233<br><b style="color: magenta">событие mousemove</b> X=325 Y=234<br><b style="color: magenta">событие mousemove</b> X=326 Y=234<br><b style="color: magenta">событие mousemove</b> X=325 Y=233<br><b style="color: magenta">событие mousemove</b> X=326 Y=234<br><b style="color: magenta">событие mouseout</b><br><b style="color: magenta">событие mouseover</b><br><b style="color: magenta">событие mousemove</b> X=328 Y=239<br><b style="color: magenta">событие mousemove</b> X=342 Y=244<br><b style="color: magenta">событие mousemove</b> X=435 Y=232<br><b style="color: magenta">событие mousemove</b> X=544 Y=229<br><b style="color: magenta">событие mouseout</b><br></div>
        
        <div style="position: fixed; left: 13em; top: 30px">
        <input type="button" onclick="document.getElementById('ILog').innerHTML=''" value="Очистить">&nbsp;&nbsp;&nbsp;
        <input type="checkbox" id="IEnableLogMouseMove">лог mousemove
        </div>
        
        <textarea id="IPlot" style="width: 400px; height: 266px; position: fixed; left: 13em; top: 60px; background: url(&quot;fountain.jpg&quot;)"></textarea>
        
        <script>
        
          var LogEl=document.getElementById('ILog');
        
          var ImgEl=document.getElementById('IPlot');
          AddEventHandler(ImgEl,"mousedown",PlotMouseDown,false);
          AddEventHandler(ImgEl,"mouseup",PlotMouseUp,false);
          AddEventHandler(ImgEl,"click",PlotMouseClick,false);
          AddEventHandler(ImgEl,"mousemove",PlotMouseMove,false);
          AddEventHandler(ImgEl,"mouseover",PlotMouseOver,false);
          AddEventHandler(ImgEl,"mouseout",PlotMouseOut,false);
          AddEventHandler(ImgEl,"focus",PlotFocus,false);
          AddEventHandler(ImgEl,"blur",PlotBlur,false);
        
          // обработчик вызывается при нажатии кнопки мыши над картинкой
          function PlotMouseDown(Ev)
          {
            LogEl.innerHTML+="<b style='color: magenta'>событие mousedown</b> X="+Ev.screenX+" Y="+Ev.screenY+"<br>";
          }
        
          // обработчик вызывается при отпускании кнопки мыши над картинкой
          function PlotMouseUp(Ev)
          {
            LogEl.innerHTML+="<b style='color: magenta'>событие mouseup</b> X="+Ev.screenX+" Y="+Ev.screenY+"<br>";
          }
        
          // обработчик вызывается при клике по картинке
          function PlotMouseClick(Ev)
          {
            LogEl.innerHTML+="<b style='color: magenta'>событие click</b> X="+Ev.screenX+" Y="+Ev.screenY+"<br>";
          }
        
          // обработчик вызывается при движении мыши над картинкой (независимо от нажатия)
          function PlotMouseMove(Ev)
          {
            if ( document.getElementById('IEnableLogMouseMove').checked )
              LogEl.innerHTML+="<b style='color: magenta'>событие mousemove</b> X="+Ev.screenX+" Y="+Ev.screenY+"<br>";
          }
        
          // обработчик вызывается при входе мыши в область картинки
          function PlotMouseOver(Ev)
          {
            LogEl.innerHTML+="<b style='color: magenta'>событие mouseover</b><br>";
          }
        
          // обработчик вызывается при выходе мыши из области картинки
          function PlotMouseOut(Ev)
          {
            LogEl.innerHTML+="<b style='color: magenta'>событие mouseout</b><br>";
          }
        
          // обработчик вызывается при получении картинкой фокуса
          function PlotFocus(Ev)
          {
            LogEl.innerHTML+="<b style='color: magenta'>событие focus</b><br>";
          }
        
          // обработчик вызывается при потере картинкой фокуса
          function PlotBlur(Ev)
          {
            LogEl.innerHTML+="<b style='color: magenta'>событие blur</b><br>";
          }
        
        function AddEventHandler(Elem,EventName,HandlerFunc,CaptureFlag)
        {
          if ( Elem.addEventListener )
            Elem.addEventListener(EventName,HandlerFunc,CaptureFlag); // современные браузеры и IE >=9
          else
            if ( !CaptureFlag ) // перехват вообще невозможен
            {
              var EventName2='on'+EventName;
              if ( Elem.attachEvent ) // IE <=8
              {
                var IEHandlerF=function() { HandlerFunc.call(Elem); } // создаём обёртку для обработчика, чтобы обработчику правильно передавался this
                Elem.attachEvent(EventName2,IEHandlerF);
                var StoreName="__IEHandlerF_"+EventName;
                Elem[StoreName]=IEHandlerF; // сохраняем ссылку на обёртку, чтобы найти её при удалении обработчика
              }
              else // устаревшие браузеры
                if ( !Elem[EventName2] )
                  Elem[EventName2]=HandlerFunc; // не сработает если несколько обработчиков одного события
            }
        }
        
        </script>
</body>
</html>